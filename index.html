<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plan Zaj - Psychologia Zdrowia</title>
    <style>
        :root {
            --bg-body: #f0f2f5;
            --bg-card: #ffffff;
            --text-main: #1f2937;
            --text-muted: #6b7280;
            --primary: #2563eb;
            --border: #e5e7eb;
        }
        body { font-family: sans-serif; background: var(--bg-body); color: var(--text-main); margin: 0; padding: 20px; line-height: 1.5; }
        .container { max-width: 800px; margin: 0 auto; }
        h1 { text-align: center; color: var(--primary); }
        
        .search-box { position: relative; margin-bottom: 20px; }
        input { width: 100%; padding: 15px; border-radius: 10px; border: 1px solid var(--border); font-size: 16px; box-sizing: border-box; }
        .suggestions { position: absolute; top: 100%; left: 0; right: 0; background: white; border: 1px solid var(--border); border-radius: 0 0 10px 10px; max-height: 300px; overflow-y: auto; display: none; z-index: 10; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        .suggestions.active { display: block; }
        .suggestion-item { padding: 12px; cursor: pointer; border-bottom: 1px solid #eee; }
        .suggestion-item:hover { background-color: #f3f4f6; }

        .student-badge { background: #dbeafe; color: #1e40af; padding: 15px; border-radius: 8px; margin-bottom: 20px; display: none; text-align: center; border: 1px solid #bfdbfe; }

        .schedule-day { background: var(--bg-card); border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .day-header { font-size: 1.2em; font-weight: bold; margin-bottom: 15px; border-bottom: 2px solid var(--border); padding-bottom: 10px; color: var(--primary); }
        
        .class-item { padding: 12px; margin-bottom: 10px; border-radius: 8px; border-left: 5px solid #ccc; background: #f9fafb; }
        .class-time { font-weight: bold; color: var(--text-main); }
        .class-name { font-size: 1.1em; margin: 4px 0; font-weight: 600; }
        .class-details { font-size: 0.9em; color: var(--text-muted); }
        
        /* Kolory przedmiot贸w */
        .sub-neuro { border-left-color: #8b5cf6; background: #f5f3ff; } /* Fiolet */
        .sub-socjo { border-left-color: #ef4444; background: #fef2f2; } /* Czerwony */
        .sub-psych { border-left-color: #10b981; background: #ecfdf5; } /* Zielony */
        .sub-wf { border-left-color: #f59e0b; background: #fffbeb; } /* 呕贸ty */
        .sub-jezyk { border-left-color: #3b82f6; background: #eff6ff; } /* Niebieski */
        .sub-bio { border-left-color: #ec4899; background: #fdf2f8; } /* R贸偶owy */
    </style>
</head>
<body>

<div class="container">
    <h1> Psychologia Zdrowia - I rok JM</h1>
    
    <div class="search-box">
        <input type="text" id="searchInput" placeholder="Wpisz nazwisko studenta...">
        <div class="suggestions" id="suggestions"></div>
    </div>

    <div id="studentInfo" class="student-badge"></div>
    <div id="scheduleContainer"></div>
</div>

<script>
    // ================= DANE STUDENTW =================
    // Lista przepisana ze zdjcia. 
    // Podzia na WF (JW): 
    // Nr 1-24 -> JW1
    // Nr 25-48 -> JW2
    // Nr 49-73 -> JW3
    const studentsRaw = [
        {name: "Mazurkiewicz Alicja", s:"S1", cw:"1", r:"I", l:"A"},
        {name: "Adamski Jdrzej", s:"S1", cw:"1", r:"I", l:"A"},
        {name: "Zaborowska Amelia", s:"S1", cw:"1", r:"I", l:"A"},
        {name: "Bazyliski Mikoaj", s:"S1", cw:"1", r:"I", l:"A"},
        {name: "Biczyska Marika", s:"S1", cw:"1", r:"I", l:"A"},
        {name: "Borowiecka Joanna", s:"S1", cw:"1", r:"I", l:"A"},
        {name: "Brunda Julia", s:"S1", cw:"1", r:"I", l:"A"},
        {name: "Budek Natalia", s:"S1", cw:"1", r:"I", l:"A"},
        {name: "Budniak Agata", s:"S1", cw:"1", r:"I", l:"A"},
        {name: "Bukowska Martyna", s:"S1", cw:"1", r:"I", l:"A"},
        {name: "Charzyska Laura", s:"S1", cw:"1", r:"I", l:"A"},
        {name: "Cho Kinga", s:"S1", cw:"1", r:"I", l:"A"},
        {name: "Chmielewski Kazimierz", s:"S1", cw:"1", r:"I", l:"A"},
        {name: "Felusiak Dominika", s:"S1", cw:"1", r:"I", l:"B"},
        {name: "Gitkowski Dawid", s:"S1", cw:"1", r:"I", l:"B"},
        {name: "Gjostol Stella", s:"S1", cw:"1", r:"I", l:"B"},
        {name: "Golec Anna", s:"S1", cw:"1", r:"II", l:"B"},
        {name: "Grochowska Zuzanna", s:"S1", cw:"1", r:"II", l:"B"},
        {name: "Hawro Wiktoria", s:"S1", cw:"2", r:"II", l:"B"},
        {name: "Jackiewicz Julia", s:"S1", cw:"2", r:"II", l:"B"},
        {name: "Janicki Jakub", s:"S1", cw:"2", r:"II", l:"B"},
        {name: "Jatczak Karolina", s:"S1", cw:"2", r:"II", l:"B"},
        {name: "Jdrzejczak-obacz Nina", s:"S1", cw:"2", r:"II", l:"B"},
        {name: "Karandyszowska Elena", s:"S1", cw:"2", r:"II", l:"B"},
        {name: "Kolendowicz Nadia", s:"S1", cw:"2", r:"II", l:"B"}, // 25 - Start JW2 logicznie
        {name: "Kotun Przemysaw", s:"S1", cw:"2", r:"II", l:"C"},
        {name: "S贸jka Jamina", s:"S1", cw:"2", r:"II", l:"C"},
        {name: "Majewski Maciej", s:"S1", cw:"2", r:"II", l:"C"},
        {name: "Kowalska Zofia", s:"S1", cw:"2", r:"II", l:"C"},
        {name: "Kubiak Alicja", s:"S1", cw:"2", r:"II", l:"C"},
        {name: "Lange Natalia", s:"S1", cw:"2", r:"II", l:"C"},
        {name: "Ligenza Anna", s:"S1", cw:"2", r:"II", l:"C"},
        {name: "Madej Kinga", s:"S1", cw:"2", r:"III", l:"C"},
        {name: "Malicka El偶bieta", s:"S1", cw:"2", r:"III", l:"C"},
        {name: "Maecka Joanna", s:"S1", cw:"2", r:"III", l:"C"},
        {name: "Markiewicz Zofia", s:"S1", cw:"2", r:"III", l:"C"},
        {name: "Mitus Julia", s:"S1", cw:"2", r:"III", l:"C"},
        {name: "Minik Anna", s:"S2", cw:"3", r:"III", l:"D"},
        {name: "Osm贸lska Nina", s:"S2", cw:"3", r:"III", l:"D"},
        {name: "Ossowska Barbara", s:"S2", cw:"3", r:"III", l:"D"},
        {name: "Pich Julia", s:"S2", cw:"3", r:"III", l:"D"},
        {name: "Piech Amelia", s:"S2", cw:"3", r:"III", l:"D"},
        {name: "Podkolzin Oleksandr", s:"S2", cw:"3", r:"III", l:"D"},
        {name: "Pudlis Hanna", s:"S2", cw:"3", r:"III", l:"D"},
        {name: "Radkiewicz Sandra", s:"S2", cw:"3", r:"III", l:"D"},
        {name: "Rainer Samanta", s:"S2", cw:"3", r:"III", l:"D"},
        {name: "Ra藕niewski Antoni", s:"S2", cw:"3", r:"III", l:"D"},
        {name: "Saczuk Magorzata", s:"S2", cw:"3", r:"IV", l:"D"}, // 48 - Koniec JW2
        {name: "Saja Antonina", s:"S2", cw:"3", r:"IV", l:"D"}, // Start JW3
        {name: "Sernik Julia", s:"S2", cw:"3", r:"IV", l:"E"},
        {name: "Wo藕niak Aleksandra", s:"S2", cw:"3", r:"IV", l:"E"},
        {name: "Skubisz Natalia", s:"S2", cw:"3", r:"IV", l:"E"},
        {name: "Smacki Alex", s:"S2", cw:"3", r:"IV", l:"E"},
        {name: "Sochanowska Dominika", s:"S2", cw:"3", r:"IV", l:"E"},
        {name: "Szawracki Cyprian", s:"S2", cw:"3", r:"IV", l:"E"},
        {name: "Tomczyk Sabina", s:"S2", cw:"4", r:"IV", l:"E"},
        {name: "Trojanowska Wiktoria", s:"S2", cw:"4", r:"IV", l:"E"},
        {name: "Urbaska Matylda", s:"S2", cw:"4", r:"IV", l:"E"},
        {name: "Weinar Aleksandra", s:"S2", cw:"4", r:"IV", l:"E"},
        {name: "Wejda Anna", s:"S2", cw:"4", r:"IV", l:"E"},
        {name: "Wieteska Weronika", s:"S2", cw:"4", r:"IV", l:"E"},
        {name: "Wokowska Weronika", s:"S2", cw:"4", r:"V", l:"F"},
        {name: "Wrzesiska Kinga", s:"S2", cw:"4", r:"V", l:"F"},
        {name: "Yakymenko Sofija", s:"S2", cw:"4", r:"V", l:"F"},
        {name: "Zaidlewicz Micha", s:"S2", cw:"4", r:"V", l:"F"},
        {name: "Zarbska Karolina", s:"S2", cw:"4", r:"V", l:"F"},
        {name: "Zatylna Kaja", s:"S2", cw:"4", r:"V", l:"F"},
        {name: "Zieliska Sara", s:"S2", cw:"4", r:"V", l:"F"},
        {name: "Zwara Zuzanna", s:"S2", cw:"4", r:"V", l:"F"},
        {name: "Rajczyk Jagna", s:"S2", cw:"4", r:"V", l:"F"},
        {name: "Kwapliska Alicja", s:"S2", cw:"4", r:"V", l:"F"},
        {name: "Baraska Amanda", s:"S2", cw:"4", r:"V", l:"F"},
        {name: "Kujawa Aleksandra", s:"S2", cw:"4", r:"V", l:"F"}
    ];

    // Automatyczne przypisanie grup WF (JW1, JW2, JW3)
    const students = studentsRaw.map((s, index) => {
        let jwGroup = 'JW1';
        if (index >= 24 && index < 48) jwGroup = 'JW2';
        if (index >= 48) jwGroup = 'JW3';
        
        return {
            name: s.name,
            groups: {
                sem: s.s,      // S1, S2
                cw: s.cw,      // 1, 2, 3, 4
                lab: s.l,      // A, B, C...
                roman: s.r,    // I, II...
                jw: jwGroup    // JW1, JW2, JW3
            }
        };
    });

    // ================= HARMONOGRAM =================
    // Dane przepisane z planu na zdjciach
    const schedule = [
        // --- PONIEDZIAEK ---
        { d: 'Poniedziaek', t: '17:00-19:15', n: 'Jzyk obcy', g: 'JW1', r: 'SPNJO', date: '2026-03-09 do 2026-05-18' },
        { d: 'Poniedziaek', t: '15:00-16:30', n: 'Wychowanie fizyczne', g: 'JW1', r: 'SWFiS', date: '2026-05-25 do 2026-06-22' },
        { d: 'Poniedziaek', t: '09:45-11:15', n: 'Socjologia medycyny', g: '1', r: 'Rektorat 215', date: '2026-04-13 do 2026-05-11' },
        
        // Podstawy neurologii - grupy "mae" z planu zmapowaem na grupy laboratoryjne (d -> D, f -> F)
        { d: 'Poniedziaek', t: '08:00-11:45', n: 'Podstawy neurologii', g: 'D', r: 'KN', date: '2026-05-04' }, 
        { d: 'Poniedziaek', t: '12:00-15:45', n: 'Podstawy neurologii', g: 'D', r: 'KN', date: '2026-05-04' },
        
        { d: 'Poniedziaek', t: '15:00-16:30', n: 'Kliniczny zarys chor贸b', g: 'S1', r: 'Rektorat 215', date: '2026-03-09 do 2026-04-13' },
        { d: 'Poniedziaek', t: '11:30-13:00', n: 'Socjologia medycyny', g: 'S1', r: 'Rektorat 215', date: '2026-03-30 do 2026-06-08' },
        
        { d: 'Poniedziaek', t: '14:00-15:30', n: 'Wychowanie fizyczne', g: 'JW3', r: 'SWFiS', date: '2026-02-23 do 2026-06-08 (bez 18.05)' },
        
        { d: 'Poniedziaek', t: '12:00-15:45', n: 'Podstawy neurokgnitywistyki', g: '3', r: 'KN', date: '2026-06-01 do 2026-06-08' },
        { d: 'Poniedziaek', t: '08:00-11:45', n: 'Podstawy neurokgnitywistyki', g: '4', r: 'KN', date: '2026-06-01 do 2026-06-08' },
        
        { d: 'Poniedziaek', t: '08:00-11:45', n: 'Podstawy neurologii', g: 'F', r: 'KN', date: '2026-04-20' },
        { d: 'Poniedziaek', t: '12:00-15:45', n: 'Podstawy neurologii', g: 'F', r: 'KN', date: '2026-04-20' },
        
        { d: 'Poniedziaek', t: '16:45-18:15', n: 'Kliniczny zarys chor贸b', g: 'S2', r: 'Rektorat 215', date: '2026-03-09 do 2026-04-13' },
        
        // Wykady (W) - dla wszystkich
        { d: 'Poniedziaek', t: '09:00-12:00', n: 'Podstawy biochemii (W)', g: 'W', r: 'online', date: '2026-02-23 do 2026-03-02' },
        { d: 'Poniedziaek', t: '09:45-11:15', n: 'Podstawy biochemii (W)', g: 'W', r: 'online', date: '2026-03-09' },
        { d: 'Poniedziaek', t: '17:45-20:00', n: 'Kliniczny zarys chor贸b (W)', g: 'W', r: 'online', date: '2026-02-23' },

        // --- WTOREK ---
        { d: 'Wtorek', t: '15:30-17:00', n: 'Wychowanie fizyczne', g: 'JW1', r: 'SWFiS', date: '2026-04-21 do 2026-06-23' },
        { d: 'Wtorek', t: '08:00-11:45', n: 'Podstawy neurokgnitywistyki', g: '1', r: 'KN', date: '2026-06-02 do 2026-06-09' },
        { d: 'Wtorek', t: '12:00-15:45', n: 'Podstawy neurokgnitywistyki', g: '2', r: 'KN', date: '2026-06-02 do 2026-06-09' },
        
        { d: 'Wtorek', t: '12:30-14:45', n: 'Jzyk migowy', g: '1', r: 'Chapowskiego 2', date: '2026-04-14 do 2026-05-19' },
        { d: 'Wtorek', t: '10:00-12:15', n: 'Jzyk migowy', g: '2', r: 'Chapowskiego 2', date: '2026-04-14 do 2026-05-19' },
        { d: 'Wtorek', t: '09:45-11:15', n: 'Pedagogika zabawy', g: '1', r: 'Chapowskiego 2', date: '2026-05-05 do 2026-05-26' },
        
        { d: 'Wtorek', t: '08:00-11:45', n: 'Podstawy neurologii', g: 'S1', r: 'KN', date: '2026-03-24 do 2026-03-31' },
        { d: 'Wtorek', t: '13:15-14:45', n: 'Podstawy biochemii', g: 'S1', r: 'Z呕CzIM 202', date: '2026-03-03 do 2026-03-31' },
        { d: 'Wtorek', t: '08:00-09:30', n: 'Pedagogika zabawy', g: 'S1', r: 'Chapowskiego 2', date: '2026-05-05 do 2026-05-26' },
        
        { d: 'Wtorek', t: '18:30-20:00', n: 'Wychowanie fizyczne', g: 'JW2', r: 'SWFiS', date: '2026-02-24 do 2026-03-31' },
        { d: 'Wtorek', t: '18:00-19:30', n: 'Wychowanie fizyczne', g: 'JW2', r: 'SWFiS', date: '2026-04-14 do 2026-06-09' },
        
        { d: 'Wtorek', t: '14:00-17:00', n: 'Psychologia komunikacji', g: '3', r: 'KP 213', date: '2026-05-05 do 2026-06-02' },
        { d: 'Wtorek', t: '17:00-20:00', n: 'Psychologia komunikacji', g: '4', r: 'KP 213', date: '2026-05-05 do 2026-06-02' },
        
        { d: 'Wtorek', t: '11:00-12:30', n: 'Emisja gosu', g: '3', r: 'Chapowskiego A', date: '2026-04-14 do 2026-05-12' },
        { d: 'Wtorek', t: '12:30-14:00', n: 'Emisja gosu', g: '4', r: 'Chapowskiego A', date: '2026-04-14 do 2026-05-12' },
        
        { d: 'Wtorek', t: '08:00-11:45', n: 'Podstawy neurokgnitywistyki', g: 'S2', r: 'KN', date: '2026-05-19 do 2026-05-26' },
        { d: 'Wtorek', t: '11:30-13:00', n: 'Podstawy biochemii', g: 'S2', r: 'Z呕CzIM 202', date: '2026-03-03 do 2026-03-31' },
        { d: 'Wtorek', t: '08:00-10:15', n: 'Pedagogika', g: 'S2', r: 'Chapowskiego A', date: '2026-03-10 do 2026-04-28' },
        
        { d: 'Wtorek', t: '10:00-13:45', n: 'Jzyk migowy (W)', g: 'W', r: 'online', date: '2026-02-24' },
        { d: 'Wtorek', t: '14:00-17:00', n: 'Prawo wasnoci intelektualnej (W)', g: 'W', r: 'online', date: '2026-02-24' },
        { d: 'Wtorek', t: '16:00-17:30', n: 'Socjologia medycyny (W)', g: 'W', r: 'online', date: '2026-03-03 do 2026-03-31' },

        // --- RODA ---
        { d: 'roda', t: '15:00-17:15', n: 'Jzyk obcy', g: 'JW2', r: 'SPNJO', date: '2026-03-11 do 2026-05-13' },
        { d: 'roda', t: '15:00-18:00', n: 'Psychologia komunikacji', g: '1', r: 'KP 213', date: '2026-05-20 do 2026-05-20' },
        { d: 'roda', t: '13:45-16:45', n: 'Psychologia komunikacji', g: '1', r: 'KP 213', date: '2026-05-27 do 2026-06-17' },
        { d: 'roda', t: '10:30-13:30', n: 'Psychologia komunikacji', g: '2', r: 'KP 213', date: '2026-06-03 do 2026-06-24' },
        
        { d: 'roda', t: '11:00-12:30', n: 'Emisja gosu', g: '1', r: 'Chapowskiego B', date: '2026-02-25 do 2026-04-29' },
        { d: 'roda', t: '13:00-14:30', n: 'Emisja gosu', g: '2', r: 'Chapowskiego B', date: '2026-02-25 do 2026-04-29' },
    ];

    // ================= LOGIKA =================
    const searchInput = document.getElementById('searchInput');
    const suggestions = document.getElementById('suggestions');
    const studentInfo = document.getElementById('studentInfo');
    const scheduleContainer = document.getElementById('scheduleContainer');
    let currentStudent = null;

    // Funkcja przypisujca kolory do przedmiot贸w
    function getClassStyle(name) {
        const lower = name.toLowerCase();
        if(lower.includes('neurolog')) return 'sub-neuro';
        if(lower.includes('neurokog')) return 'sub-neuro';
        if(lower.includes('socjologia')) return 'sub-socjo';
        if(lower.includes('psychologia')) return 'sub-psych';
        if(lower.includes('wychowanie') || lower.includes('pedagogika')) return 'sub-wf';
        if(lower.includes('jzyk') || lower.includes('emisja')) return 'sub-jezyk';
        if(lower.includes('biochem') || lower.includes('chor贸b')) return 'sub-bio';
        return '';
    }

    // Wyszukiwarka
    searchInput.addEventListener('input', (e) => {
        const val = e.target.value.toLowerCase();
        suggestions.innerHTML = '';
        if(val.length < 2) { suggestions.classList.remove('active'); return; }

        const matches = students.filter(s => s.name.toLowerCase().includes(val));
        
        if(matches.length > 0) {
            suggestions.classList.add('active');
            matches.forEach(s => {
                const div = document.createElement('div');
                div.className = 'suggestion-item';
                div.innerText = s.name;
                div.onclick = () => selectStudent(s);
                suggestions.appendChild(div);
            });
        } else {
            suggestions.classList.remove('active');
        }
    });

    function selectStudent(student) {
        currentStudent = student;
        searchInput.value = student.name;
        suggestions.classList.remove('active');
        
        // Poka偶 badge
        studentInfo.style.display = 'block';
        studentInfo.innerHTML = `
            <strong>${student.name}</strong><br>
            Grupy: Sem: ${student.groups.sem} | w: ${student.groups.cw} | Lab: ${student.groups.lab} | WF: ${student.groups.jw}
        `;
        
        renderSchedule();
    }

    function renderSchedule() {
        if(!currentStudent) return;
        scheduleContainer.innerHTML = '';

        const days = ['Poniedziaek', 'Wtorek', 'roda', 'Czwartek', 'Pitek'];
        const g = currentStudent.groups;

        // Filtrowanie zaj dla studenta
        const myClasses = schedule.filter(item => {
            // Jeli przedmiot jest wykadem (W) -> dla wszystkich
            if(item.g === 'W') return true;
            
            // Sprawd藕 czy grupa przedmiotu pasuje do kt贸rej grupy studenta
            if(item.g === g.sem) return true;  // S1, S2
            if(item.g === g.cw) return true;   // 1, 2, 3, 4
            if(item.g === g.jw) return true;   // JW1, JW2, JW3
            if(item.g === g.lab) return true;  // A, B, C...
            if(item.g === g.roman) return true;// I, II... (na wszelki wypadek)

            return false;
        });

        if(myClasses.length === 0) {
            scheduleContainer.innerHTML = '<div style="text-align:center; padding:20px;">Brak zaj w tym planie (sprawd藕 czy dobrze przypisano grupy).</div>';
            return;
        }

        days.forEach(dayName => {
            const dayClasses = myClasses.filter(c => c.d === dayName);
            // Sortowanie po godzinie
            dayClasses.sort((a, b) => a.t.localeCompare(b.t));

            if(dayClasses.length > 0) {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'schedule-day';
                
                let html = `<div class="day-header">${dayName}</div>`;
                
                dayClasses.forEach(c => {
                    const styleClass = getClassStyle(c.n);
                    html += `
                        <div class="class-item ${styleClass}">
                            <div class="class-time"> ${c.t}</div>
                            <div class="class-name">${c.n}</div>
                            <div class="class-details">
                                 Sala: ${c.r} <br>
                                 Grupa zajciowa: ${c.g} <br>
                                 ${c.date}
                            </div>
                        </div>
                    `;
                });

                dayDiv.innerHTML = html;
                scheduleContainer.appendChild(dayDiv);
            }
        });
    }

</script>

</body>
</html>
