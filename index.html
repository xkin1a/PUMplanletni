<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plan ZajÄ™Ä‡ - Psychologia Zdrowia</title>
    <style>
        :root {
            --color-bg-primary: #f8fafc;
            --color-bg-secondary: #ffffff;
            --color-text-primary: #1e293b;
            --color-text-secondary: #64748b;
            --color-primary: #2563eb;
            --color-border: #e2e8f0;
            --color-holiday: #fee2e2; /* Jasnoczerwony dla wolnego */
            --color-holiday-text: #991b1b;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --color-bg-primary: #0f172a;
                --color-bg-secondary: #1e293b;
                --color-text-primary: #f1f5f9;
                --color-text-secondary: #cbd5e1;
                --color-border: #334155;
                --color-holiday: #450a0a;
                --color-holiday-text: #fca5a5;
            }
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, sans-serif; background: var(--color-bg-primary); color: var(--color-text-primary); padding: 20px; line-height: 1.5; }
        .container { max-width: 1000px; margin: 0 auto; }
        
        header { background: var(--color-bg-secondary); padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); text-align: center; }
        h1 { color: var(--color-primary); margin-bottom: 5px; }

        .search-section { background: var(--color-bg-secondary); padding: 20px; border-radius: 12px; margin-bottom: 20px; position: relative; }
        input { width: 100%; padding: 12px; border: 2px solid var(--color-border); border-radius: 8px; font-size: 16px; background: var(--color-bg-primary); color: var(--color-text-primary); }
        
        .suggestions { position: absolute; top: 100%; left: 0; right: 0; background: var(--color-bg-secondary); border: 1px solid var(--color-border); z-index: 100; max-height: 300px; overflow-y: auto; display: none; }
        .suggestions.active { display: block; }
        .suggestion-item { padding: 12px; border-bottom: 1px solid var(--color-border); cursor: pointer; }
        .suggestion-item:hover { background: var(--color-border); }

        .view-controls { display: flex; gap: 10px; margin-bottom: 20px; display: none; }
        .view-btn { flex: 1; padding: 10px; border: 1px solid var(--color-border); background: var(--color-bg-secondary); color: var(--color-text-primary); border-radius: 6px; cursor: pointer; font-weight: bold; }
        .view-btn.active { background: var(--color-primary); color: white; border-color: var(--color-primary); }

        .schedule-container { display: none; background: var(--color-bg-secondary); padding: 20px; border-radius: 12px; }
        .schedule-container.active { display: block; }

        /* Lista zajÄ™Ä‡ */
        .class-item { padding: 15px; border-radius: 8px; margin-bottom: 10px; border-left: 5px solid #ccc; background: var(--color-bg-primary); }
        .class-header { display: flex; justify-content: space-between; margin-bottom: 5px; font-weight: bold; }
        .class-details { font-size: 0.9em; color: var(--color-text-secondary); }

        /* Kalendarz */
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; }
        .calendar-day { background: var(--color-bg-primary); border: 1px solid var(--color-border); min-height: 80px; padding: 5px; border-radius: 6px; position: relative; font-size: 0.8em; }
        .calendar-day.today { border-color: var(--color-primary); border-width: 2px; }
        .calendar-day.holiday { background: var(--color-holiday); color: var(--color-holiday-text); border-color: transparent; }
        .calendar-header { text-align: center; font-weight: bold; padding: 5px; }
        .dot-container { display: flex; flex-wrap: wrap; gap: 2px; margin-top: 5px; }
        .dot { width: 6px; height: 6px; border-radius: 50%; }
        .holiday-label { font-size: 0.8em; font-weight: bold; margin-top: 2px; display: block; line-height: 1.1; }

        /* Kolory przedmiotÃ³w */
        .s-pedagogika { border-color: #f59e0b; background-color: #f59e0b; }
        .s-pomoc { border-color: #ef4444; background-color: #ef4444; }
        .s-socjo { border-color: #8b5cf6; background-color: #8b5cf6; }
        .s-neuro { border-color: #10b981; background-color: #10b981; }
        .s-psych { border-color: #ec4899; background-color: #ec4899; }
        .s-wf { border-color: #3b82f6; background-color: #3b82f6; }
        .s-jezyk { border-color: #06b6d4; background-color: #06b6d4; }
        .s-bio { border-color: #eab308; background-color: #eab308; }
        .s-kreatywne { border-color: #6366f1; background-color: #6366f1; }
        .s-migowy { border-color: #14b8a6; background-color: #14b8a6; }
        .s-kognitywistyka { border-color: #f97316; background-color: #f97316; }
        .s-emisja { border-color: #d946ef; background-color: #d946ef; }

        .dot.s-pedagogika { background: #f59e0b; }
        .dot.s-pomoc { background: #ef4444; }
        .dot.s-socjo { background: #8b5cf6; }
        .dot.s-neuro { background: #10b981; }
        .dot.s-psych { background: #ec4899; }
        .dot.s-wf { background: #3b82f6; }
        .dot.s-jezyk { background: #06b6d4; }
        .dot.s-bio { background: #eab308; }
        .dot.s-kreatywne { background: #6366f1; }
        .dot.s-migowy { background: #14b8a6; }
        .dot.s-kognitywistyka { background: #f97316; }
        .dot.s-emisja { background: #d946ef; }

        .class-item.s-pedagogika { background: rgba(245, 158, 11, 0.1); }
        .class-item.s-pomoc { background: rgba(239, 68, 68, 0.1); }
        .class-item.s-socjo { background: rgba(139, 92, 246, 0.1); }
        .class-item.s-neuro { background: rgba(16, 185, 129, 0.1); }
        .class-item.s-psych { background: rgba(236, 72, 153, 0.1); }
        .class-item.s-wf { background: rgba(59, 130, 246, 0.1); }
        .class-item.s-jezyk { background: rgba(6, 182, 212, 0.1); }
        .class-item.s-bio { background: rgba(234, 179, 8, 0.1); }
        .class-item.s-kreatywne { background: rgba(99, 102, 241, 0.1); }
        .class-item.s-migowy { background: rgba(20, 184, 166, 0.1); }
        .class-item.s-kognitywistyka { background: rgba(249, 115, 22, 0.1); }
        .class-item.s-emisja { background: rgba(217, 70, 239, 0.1); }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ðŸ“… Plan ZajÄ™Ä‡ - Psychologia Zdrowia</h1>
        <p>Semestr letni 2026</p>
    </header>

    <div class="search-section">
        <input type="text" id="searchInput" placeholder="ðŸ” Wpisz swoje nazwisko..." autocomplete="off">
        <div class="suggestions" id="suggestions"></div>
        <div id="studentInfo" style="margin-top:15px; font-weight:bold; color:var(--color-primary);"></div>
    </div>

    <div class="view-controls" id="viewControls">
        <button class="view-btn active" onclick="switchView('list')">ðŸ“‹ Lista zajÄ™Ä‡</button>
        <button class="view-btn" onclick="switchView('calendar')">ðŸ“† Kalendarz</button>
    </div>

    <div id="listView" class="schedule-container active">
        <p style="text-align:center; color:#888;">Wybierz studenta, aby zobaczyÄ‡ plan.</p>
    </div>

    <div id="calendarView" class="schedule-container">
        <div id="calendarContent"></div>
    </div>
</div>

<script>
    // ================= DNI WOLNE 2026 =================
    // Format: 'D-M': 'Nazwa' (rok 2026 jest domyÅ›lny w logice)
    const holidays = {
        '3-4': 'Przerwa Å›wiÄ…teczna',
        '4-4': 'Przerwa Å›wiÄ…teczna',
        '5-4': 'Wielkanoc',
        '6-4': 'PoniedziaÅ‚ek Wielkanocny',
        '7-4': 'Przerwa Å›wiÄ…teczna',
        '30-4': 'DzieÅ„ Rektorski',
        '1-5': 'ÅšwiÄ™to Pracy',
        '3-5': 'ÅšwiÄ™to Konstytucji',
        '22-5': 'Juwenalia (Rektorski)',
        '4-6': 'BoÅ¼e CiaÅ‚o',
        '5-6': 'DzieÅ„ Rektorski'
    };

    // ================= DANE STUDENTÃ“W =================
    const students = [
        { name: "Mazurkiewicz Alicja", groups: { S: "S1", JW: "JW1", cw: "1", maly: "a", duzy: "A" } },
        { name: "Adamski JÄ™drzej", groups: { S: "S1", JW: "JW1", cw: "1", maly: "a", duzy: "A" } },
        { name: "Zaborowska Amelia", groups: { S: "S1", JW: "JW1", cw: "1", maly: "a", duzy: "A" } },
        { name: "BazyliÅ„ski MikoÅ‚aj", groups: { S: "S1", JW: "JW1", cw: "1", maly: "a", duzy: "A" } },
        { name: "BiczyÅ„ska Marika", groups: { S: "S1", JW: "JW1", cw: "1", maly: "a", duzy: "A" } },
        { name: "Borowiecka Joanna", groups: { S: "S1", JW: "JW1", cw: "1", maly: "a", duzy: "A" } },
        { name: "Brunda Julia", groups: { S: "S1", JW: "JW1", cw: "1", maly: "a", duzy: "A" } },
        { name: "Budek Natalia", groups: { S: "S1", JW: "JW1", cw: "1", maly: "b", duzy: "A" } },
        { name: "Budniak Agata", groups: { S: "S1", JW: "JW1", cw: "1", maly: "b", duzy: "A" } },
        { name: "Bukowska Martyna", groups: { S: "S1", JW: "JW1", cw: "1", maly: "b", duzy: "A" } },
        { name: "CharzyÅ„ska Laura", groups: { S: "S1", JW: "JW1", cw: "1", maly: "b", duzy: "A" } },
        { name: "ChÅ‚oÅ„ Kinga", groups: { S: "S1", JW: "JW1", cw: "1", maly: "b", duzy: "A" } },
        { name: "Ligenza Anna", groups: { S: "S1", JW: "JW1", cw: "1", maly: "b", duzy: "A" } },
        { name: "Felusiak Dominika", groups: { S: "S1", JW: "JW1", cw: "1", maly: "c", duzy: "B" } },
        { name: "GiÄ™tkowski Dawid", groups: { S: "S1", JW: "JW1", cw: "1", maly: "c", duzy: "B" } },
        { name: "Gjostol Stella", groups: { S: "S1", JW: "JW1", cw: "1", maly: "c", duzy: "B" } },
        { name: "Golec Anna", groups: { S: "S1", JW: "JW1", cw: "1", maly: "c", duzy: "B" } },
        { name: "Grochowska Zuzanna", groups: { S: "S1", JW: "JW1", cw: "1", maly: "c", duzy: "B" } },
        { name: "Hawro Wiktoria", groups: { S: "S1", JW: "JW1", cw: "2", maly: "c", duzy: "B" } },
        { name: "Jackiewicz Julia", groups: { S: "S1", JW: "JW1", cw: "2", maly: "c", duzy: "B" } },
        { name: "Janicki Jakub", groups: { S: "S1", JW: "JW1", cw: "2", maly: "d", duzy: "B" } },
        { name: "Jatczak Karolina", groups: { S: "S1", JW: "JW1", cw: "2", maly: "d", duzy: "B" } },
        { name: "JÄ™drzejczak-Åobacz Nina", groups: { S: "S1", JW: "JW1", cw: "2", maly: "d", duzy: "B" } },
        { name: "Karandyszowska Elena", groups: { S: "S1", JW: "JW1", cw: "2", maly: "d", duzy: "B" } },
        { name: "KoÅ‚tan PrzemysÅ‚aw", groups: { S: "S1", JW: "JW2", cw: "2", maly: "d", duzy: "C" } },
        { name: "SÃ³jka JaÅ›mina", groups: { S: "S1", JW: "JW2", cw: "2", maly: "d", duzy: "C" } },
        { name: "Majewski Maciej", groups: { S: "S1", JW: "JW2", cw: "2", maly: "d", duzy: "C" } },
        { name: "Kowalska Zofia", groups: { S: "S1", JW: "JW2", cw: "2", maly: "d", duzy: "C" } },
        { name: "Kubiak Alicja", groups: { S: "S1", JW: "JW2", cw: "2", maly: "e", duzy: "C" } },
        { name: "Lange Natalia", groups: { S: "S1", JW: "JW2", cw: "2", maly: "e", duzy: "C" } },
        { name: "Madej Kinga", groups: { S: "S1", JW: "JW2", cw: "2", maly: "e", duzy: "C" } },
        { name: "Malicka ElÅ¼bieta", groups: { S: "S1", JW: "JW2", cw: "2", maly: "e", duzy: "C" } },
        { name: "MaÅ‚ecka Joanna", groups: { S: "S1", JW: "JW2", cw: "2", maly: "e", duzy: "C" } },
        { name: "Markiewicz Zofia", groups: { S: "S1", JW: "JW2", cw: "2", maly: "e", duzy: "C" } },
        { name: "MiÄ™tus Julia", groups: { S: "S1", JW: "JW2", cw: "2", maly: "e", duzy: "C" } },
        { name: "MiÅ›nik Anna", groups: { S: "S2", JW: "JW2", cw: "3", maly: "f", duzy: "D" } },
        { name: "OsmÃ³lska Nina", groups: { S: "S2", JW: "JW2", cw: "3", maly: "f", duzy: "D" } },
        { name: "Ossowska Barbara", groups: { S: "S2", JW: "JW2", cw: "3", maly: "f", duzy: "D" } },
        { name: "Pich Julia", groups: { S: "S2", JW: "JW2", cw: "3", maly: "f", duzy: "D" } },
        { name: "Piech Amelia", groups: { S: "S2", JW: "JW2", cw: "3", maly: "f", duzy: "D" } },
        { name: "Saczuk MaÅ‚gorzata", groups: { S: "S2", JW: "JW2", cw: "3", maly: "f", duzy: "D" } },
        { name: "Pudlis Hanna", groups: { S: "S2", JW: "JW2", cw: "3", maly: "f", duzy: "D" } },
        { name: "Rainer Samanta", groups: { S: "S2", JW: "JW2", cw: "3", maly: "g", duzy: "D" } },
        { name: "Szews Julia", groups: { S: "S2", JW: "JW2", cw: "3", maly: "g", duzy: "D" } },
        { name: "Karwala Wiktoria", groups: { S: "S2", JW: "JW2", cw: "3", maly: "g", duzy: "D" } },
        { name: "WoÅ‚kowska Weronika", groups: { S: "S2", JW: "JW2", cw: "3", maly: "g", duzy: "D" } },
        { name: "Saja Antonina", groups: { S: "S2", JW: "JW2", cw: "3", maly: "g", duzy: "D" } },
        { name: "Wons Maria", groups: { S: "S2", JW: "JW2", cw: "3", maly: "g", duzy: "D" } },
        { name: "Sernik Julia", groups: { S: "S2", JW: "JW3", cw: "3", maly: "g", duzy: "E" } },
        { name: "WoÅºniak Aleksandra", groups: { S: "S2", JW: "JW3", cw: "3", maly: "g", duzy: "E" } },
        { name: "Skubisz Natalia", groups: { S: "S2", JW: "JW3", cw: "3", maly: "g", duzy: "E" } },
        { name: "Smacki Alex", groups: { S: "S2", JW: "JW3", cw: "3", maly: "h", duzy: "E" } },
        { name: "Sochanowska Dominika", groups: { S: "S2", JW: "JW3", cw: "3", maly: "h", duzy: "E" } },
        { name: "RaÅºniewski Antoni", groups: { S: "S2", JW: "JW3", cw: "3", maly: "h", duzy: "E" } },
        { name: "Tomczyk Sabina", groups: { S: "S2", JW: "JW3", cw: "4", maly: "h", duzy: "E" } },
        { name: "Trojanowska Wiktoria", groups: { S: "S2", JW: "JW3", cw: "4", maly: "h", duzy: "E" } },
        { name: "UrbaÅ„ska Matylda", groups: { S: "S2", JW: "JW3", cw: "4", maly: "h", duzy: "E" } },
        { name: "Weinar Aleksandra", groups: { S: "S2", JW: "JW3", cw: "4", maly: "h", duzy: "E" } },
        { name: "Wejda Anna", groups: { S: "S2", JW: "JW3", cw: "4", maly: "h", duzy: "E" } },
        { name: "WrzesiÅ„ska Kinga", groups: { S: "S2", JW: "JW3", cw: "4", maly: "i", duzy: "F" } },
        { name: "Yakymenko Sofija", groups: { S: "S2", JW: "JW3", cw: "4", maly: "i", duzy: "F" } },
        { name: "Zaidlewicz MichaÅ‚", groups: { S: "S2", JW: "JW3", cw: "4", maly: "i", duzy: "F" } },
        { name: "ZarÄ™bska Karolina", groups: { S: "S2", JW: "JW3", cw: "4", maly: "i", duzy: "F" } },
        { name: "GÄ…siorowska Emilia", groups: { S: "S2", JW: "JW3", cw: "4", maly: "i", duzy: "F" } },
        { name: "Szarmach (Zatylna) Kaja", groups: { S: "S2", JW: "JW3", cw: "4", maly: "i", duzy: "F" } },
        { name: "ZieliÅ„ska Sara", groups: { S: "S2", JW: "JW3", cw: "4", maly: "j", duzy: "F" } },
        { name: "Zwara Zuzanna", groups: { S: "S2", JW: "JW3", cw: "4", maly: "j", duzy: "F" } },
        { name: "Rajczyk Jagna", groups: { S: "S2", JW: "JW3", cw: "4", maly: "j", duzy: "F" } },
        { name: "KwapliÅ„ska Alicja", groups: { S: "S2", JW: "JW3", cw: "4", maly: "j", duzy: "F" } },
        { name: "BaraÅ„ska Amanda", groups: { S: "S2", JW: "JW3", cw: "4", maly: "j", duzy: "F" } },
        { name: "Kujawa Aleksandra", groups: { S: "S2", JW: "JW3", cw: "4", maly: "j", duzy: "F" } }
    ];

    // ================= HARMONOGRAM =================
    const schedule = [
        // ----- PONIEDZIAÅEK -----
        { d: 'PoniedziaÅ‚ek', t: '17:00-19:15', n: 'JÄ™zyk obcy', g: 'JW1', r: 'SPNJO', start: '2026-03-09', end: '2026-05-18' },
        { d: 'PoniedziaÅ‚ek', t: '15:00-16:30', n: 'Wychowanie fizyczne', g: 'JW1', r: 'SWFiS', start: '2026-05-25', end: '2026-06-22' },
        { d: 'PoniedziaÅ‚ek', t: '09:45-11:15', n: 'Socjologia medycyny', g: '1', r: 'Rektorat 215', start: '2026-04-13', end: '2026-05-11' },
        { d: 'PoniedziaÅ‚ek', t: '12:00-15:45', n: 'Podstawy neurologii', g: 'd', r: 'KN', start: '2026-05-04', end: '2026-05-04' },
        { d: 'PoniedziaÅ‚ek', t: '08:00-11:45', n: 'Podstawy neurologii', g: 'd', r: 'KN', start: '2026-05-04', end: '2026-05-04' },
        { d: 'PoniedziaÅ‚ek', t: '15:00-16:30', n: 'Kliniczny zarys chorÃ³b', g: 'S1', r: 'Rektorat 215', start: '2026-03-09', end: '2026-04-13' },
        { d: 'PoniedziaÅ‚ek', t: '11:30-13:00', n: 'Socjologia medycyny', g: 'S1', r: 'Rektorat 215', start: '2026-03-30', end: '2026-06-08' },
        { d: 'PoniedziaÅ‚ek', t: '14:00-15:30', n: 'Wychowanie fizyczne', g: 'JW3', r: 'SWFiS', start: '2026-02-23', end: '2026-06-08' }, // brak 18.05
        { d: 'PoniedziaÅ‚ek', t: '12:00-15:45', n: 'Podstawy neurokognitywistyki', g: '3', r: 'KN', start: '2026-06-01', end: '2026-06-08' },
        { d: 'PoniedziaÅ‚ek', t: '08:00-11:45', n: 'Podstawy neurokognitywistyki', g: '4', r: 'KN', start: '2026-06-01', end: '2026-06-08' },
        { d: 'PoniedziaÅ‚ek', t: '08:00-11:45', n: 'Podstawy neurologii', g: 'f', r: 'KN', start: '2026-04-20', end: '2026-04-20' },
        { d: 'PoniedziaÅ‚ek', t: '12:00-15:45', n: 'Podstawy neurologii', g: 'f', r: 'KN', start: '2026-04-20', end: '2026-04-20' },
        { d: 'PoniedziaÅ‚ek', t: '08:00-11:45', n: 'Podstawy neurologii', g: 'i', r: 'KN', start: '2026-05-11', end: '2026-05-11' },
        { d: 'PoniedziaÅ‚ek', t: '12:00-15:45', n: 'Podstawy neurologii', g: 'i', r: 'KN', start: '2026-05-11', end: '2026-05-11' },
        { d: 'PoniedziaÅ‚ek', t: '08:00-11:45', n: 'Podstawy neurologii', g: 'j', r: 'KN', start: '2026-05-18', end: '2026-05-18' },
        { d: 'PoniedziaÅ‚ek', t: '12:00-15:45', n: 'Podstawy neurologii', g: 'j', r: 'KN', start: '2026-05-18', end: '2026-05-18' },
        { d: 'PoniedziaÅ‚ek', t: '16:45-18:15', n: 'Kliniczny zarys chorÃ³b', g: 'S2', r: 'Rektorat 215', start: '2026-03-09', end: '2026-04-13' },
        { d: 'PoniedziaÅ‚ek', t: '09:00-12:00', n: 'Podstawy biochemii (W)', g: 'W', r: 'online', start: '2026-02-23', end: '2026-03-02' },
        { d: 'PoniedziaÅ‚ek', t: '09:45-11:15', n: 'Podstawy biochemii (W)', g: 'W', r: 'online', start: '2026-03-09', end: '2026-03-09' },
        { d: 'PoniedziaÅ‚ek', t: '17:45-20:00', n: 'Kliniczny zarys chorÃ³b (W)', g: 'W', r: 'online', start: '2026-02-23', end: '2026-02-23' },
        { d: 'PoniedziaÅ‚ek', t: '17:45-19:15', n: 'Kliniczny zarys chorÃ³b (W)', g: 'W', r: 'online', start: '2026-03-02', end: '2026-03-02' },

        // ----- WTOREK -----
        { d: 'Wtorek', t: '15:30-17:00', n: 'Wychowanie fizyczne', g: 'JW1', r: 'SWFiS', start: '2026-04-21', end: '2026-06-23' },
        { d: 'Wtorek', t: '08:00-11:45', n: 'Podstawy neurokognitywistyki', g: '1', r: 'KN', start: '2026-06-02', end: '2026-06-09' },
        { d: 'Wtorek', t: '12:00-15:45', n: 'Podstawy neurokognitywistyki', g: '2', r: 'KN', start: '2026-06-02', end: '2026-06-09' },
        { d: 'Wtorek', t: '12:30-14:45', n: 'JÄ™zyk migowy', g: '1', r: 'ChÅ‚apowskiego 2', start: '2026-04-14', end: '2026-05-19' },
        { d: 'Wtorek', t: '10:00-12:15', n: 'JÄ™zyk migowy', g: '2', r: 'ChÅ‚apowskiego 2', start: '2026-04-14', end: '2026-05-19' },
        { d: 'Wtorek', t: '09:45-11:15', n: 'Pedagogika zabawy', g: '1', r: 'ChÅ‚apowskiego 2', start: '2026-05-05', end: '2026-05-26' },
        { d: 'Wtorek', t: '08:00-11:45', n: 'Podstawy neurologii', g: 'S1', r: 'KN', start: '2026-03-24', end: '2026-03-31' },
        { d: 'Wtorek', t: '13:15-14:45', n: 'Podstawy biochemii', g: 'S1', r: 'ZÅ»CzIM 202', start: '2026-03-03', end: '2026-03-31' },
        { d: 'Wtorek', t: '08:00-09:30', n: 'Pedagogika zabawy', g: 'S1', r: 'ChÅ‚apowskiego 2', start: '2026-05-05', end: '2026-05-26' },
        { d: 'Wtorek', t: '18:30-20:00', n: 'Wychowanie fizyczne', g: 'JW2', r: 'SWFiS', start: '2026-02-24', end: '2026-03-31' },
        { d: 'Wtorek', t: '18:00-19:30', n: 'Wychowanie fizyczne', g: 'JW2', r: 'SWFiS', start: '2026-04-14', end: '2026-06-09' },
        { d: 'Wtorek', t: '14:00-17:00', n: 'Psychologia komunikacji', g: '3', r: 'KP 213', start: '2026-05-05', end: '2026-06-02' },
        { d: 'Wtorek', t: '17:00-20:00', n: 'Psychologia komunikacji', g: '4', r: 'KP 213', start: '2026-05-05', end: '2026-06-02' },
        { d: 'Wtorek', t: '11:00-12:30', n: 'Emisja gÅ‚osu', g: '3', r: 'ChÅ‚apowskiego A', start: '2026-04-14', end: '2026-05-12' },
        { d: 'Wtorek', t: '12:30-14:00', n: 'Emisja gÅ‚osu', g: '4', r: 'ChÅ‚apowskiego A', start: '2026-04-14', end: '2026-05-12' },
        { d: 'Wtorek', t: '08:00-11:45', n: 'Podstawy neurokognitywistyki', g: 'S2', r: 'KN', start: '2026-05-19', end: '2026-05-26' },
        { d: 'Wtorek', t: '11:30-13:00', n: 'Podstawy biochemii', g: 'S2', r: 'ZÅ»CzIM 202', start: '2026-03-03', end: '2026-03-31' },
        { d: 'Wtorek', t: '08:00-10:15', n: 'Pedagogika', g: 'S2', r: 'ChÅ‚apowskiego A', start: '2026-03-10', end: '2026-04-28' },
        { d: 'Wtorek', t: '10:00-13:45', n: 'JÄ™zyk migowy (W)', g: 'W', r: 'online', start: '2026-02-24', end: '2026-02-24' },
        { d: 'Wtorek', t: '14:00-17:00', n: 'Prawo wÅ‚asnoÅ›ci intelektualnej (W)', g: 'W', r: 'online', start: '2026-02-24', end: '2026-02-24' },
        { d: 'Wtorek', t: '16:00-17:30', n: 'Socjologia medycyny (W)', g: 'W', r: 'online', start: '2026-03-03', end: '2026-03-31' },

        // ----- ÅšRODA -----
        { d: 'Åšroda', t: '15:00-17:15', n: 'JÄ™zyk obcy', g: 'JW2', r: 'SPNJO', start: '2026-03-11', end: '2026-05-13' },
        { d: 'Åšroda', t: '15:00-18:00', n: 'Psychologia komunikacji', g: '1', r: 'KP 213', start: '2026-05-20', end: '2026-05-20' },
        { d: 'Åšroda', t: '13:45-16:45', n: 'Psychologia komunikacji', g: '1', r: 'KP 213', start: '2026-05-27', end: '2026-06-17' },
        { d: 'Åšroda', t: '10:30-13:30', n: 'Psychologia komunikacji', g: '2', r: 'KP 213', start: '2026-06-03', end: '2026-06-24' },
        { d: 'Åšroda', t: '11:00-12:30', n: 'Emisja gÅ‚osu', g: '1', r: 'ChÅ‚apowskiego B', start: '2026-02-25', end: '2026-04-29' },
        { d: 'Åšroda', t: '13:00-14:30', n: 'Emisja gÅ‚osu', g: '2', r: 'ChÅ‚apowskiego B', start: '2026-02-25', end: '2026-04-29' },
        { d: 'Åšroda', t: '08:00-10:15', n: 'Pedagogika', g: '1', r: 'ChÅ‚apowskiego', start: '2026-04-01', end: '2026-04-15' },
        { d: 'Åšroda', t: '08:00-08:45', n: 'Pedagogika', g: '1', r: 'ChÅ‚apowskiego', start: '2026-04-22', end: '2026-04-22' },
        { d: 'Åšroda', t: '10:30-12:45', n: 'Pedagogika', g: '2', r: 'ChÅ‚apowskiego 2', start: '2026-04-01', end: '2026-04-15' },
        { d: 'Åšroda', t: '10:30-11:15', n: 'Pedagogika', g: '2', r: 'ChÅ‚apowskiego 2', start: '2026-04-22', end: '2026-04-22' },
        { d: 'Åšroda', t: '11:15-13:30', n: 'Pedagogika zabawy', g: '1', r: 'ChÅ‚apowskiego 2', start: '2026-05-06', end: '2026-05-13' },
        { d: 'Åšroda', t: '14:30-17:30', n: 'Pierwsza pomoc', g: 'A', r: 'CSM', start: '2026-04-01', end: '2026-04-29' },
        { d: 'Åšroda', t: '17:45-20:45', n: 'Pierwsza pomoc', g: 'B', r: 'CSM', start: '2026-04-01', end: '2026-04-29' },
        { d: 'Åšroda', t: '08:00-11:45', n: 'Podstawy neurokognitywistyki', g: 'S1', r: 'KN', start: '2026-05-20', end: '2026-05-27' },
        { d: 'Åšroda', t: '18:15-19:45', n: 'Psychologia komunikacji', g: 'S1', r: 'WNZ 210', start: '2026-02-25', end: '2026-03-25' },
        { d: 'Åšroda', t: '09:45-11:15', n: 'Socjologia medycyny', g: '3', r: 'Rektorat 307A', start: '2026-04-15', end: '2026-05-20' }, // brak 13.05
        { d: 'Åšroda', t: '13:15-14:45', n: 'Socjologia medycyny', g: '4', r: 'Rektorat 307A', start: '2026-04-15', end: '2026-05-20' }, // brak 13.05
        { d: 'Åšroda', t: '13:30-15:00', n: 'Emisja gÅ‚osu', g: '3', r: 'ChÅ‚apowskiego 2', start: '2026-05-20', end: '2026-06-17' },
        { d: 'Åšroda', t: '08:00-11:45', n: 'Podstawy neurologii', g: 'g', r: 'KN', start: '2026-05-13', end: '2026-05-13' },
        { d: 'Åšroda', t: '12:00-15:45', n: 'Podstawy neurologii', g: 'g', r: 'KN', start: '2026-05-13', end: '2026-05-13' },
        { d: 'Åšroda', t: '08:00-11:45', n: 'Podstawy neurologii', g: 'S2', r: 'KN', start: '2026-03-25', end: '2026-04-01' },
        { d: 'Åšroda', t: '11:30-13:00', n: 'Socjologia medycyny', g: 'S2', r: 'Rektorat 307', start: '2026-04-08', end: '2026-06-17' }, // brak 13.05, inne sale w czerwcu
        { d: 'Åšroda', t: '12:45-14:15', n: 'Psychologia komunikacji', g: 'S2', r: 'KP 211', start: '2026-02-25', end: '2026-03-25' },
        { d: 'Åšroda', t: '18:15-20:30', n: 'Podstawy neurologii (W)', g: 'W', r: 'online', start: '2026-02-25', end: '2026-03-11' },
        { d: 'Åšroda', t: '18:15-19:00', n: 'Podstawy neurologii (W)', g: 'W', r: 'online', start: '2026-03-18', end: '2026-03-18' },
        { d: 'Åšroda', t: '09:45-12:00', n: 'Pedagogika zabawy (W)', g: 'W', r: 'online', start: '2026-02-25', end: '2026-02-25' },
        { d: 'Åšroda', t: '09:45-11:15', n: 'Pedagogika zabawy (W)', g: 'W', r: 'online', start: '2026-03-03', end: '2026-03-03' },

        // ----- CZWARTEK -----
        { d: 'Czwartek', t: '11:00-12:30', n: 'Socjologia medycyny', g: '2', r: 'MCD 2 205', start: '2026-04-02', end: '2026-05-07' },
        { d: 'Czwartek', t: '08:00-11:00', n: 'Psychologia komunikacji', g: '2', r: 'KP 213', start: '2026-05-08', end: '2026-05-28' },
        { d: 'Czwartek', t: '10:30-12:45', n: 'JÄ™zyk migowy', g: '1', r: 'ChÅ‚apowskiego 2', start: '2026-05-28', end: '2026-06-25' },
        { d: 'Czwartek', t: '13:00-15:15', n: 'JÄ™zyk migowy', g: '2', r: 'ChÅ‚apowskiego 2', start: '2026-05-28', end: '2026-06-25' },
        { d: 'Czwartek', t: '15:30-17:45', n: 'Pedagogika zabawy', g: '2', r: 'ChÅ‚apowskiego 2', start: '2026-05-14', end: '2026-06-18' },
        { d: 'Czwartek', t: '14:30-17:30', n: 'Pierwsza pomoc', g: 'C', r: 'CSM', start: '2026-04-02', end: '2026-05-07' },
        { d: 'Czwartek', t: '13:00-14:30', n: 'Podstawy biochemii', g: 'A', r: 'ZÅ»CzIM 102', start: '2026-03-12', end: '2026-04-16' },
        { d: 'Czwartek', t: '14:30-16:00', n: 'Podstawy biochemii', g: 'B', r: 'ZÅ»CzIM 102', start: '2026-03-12', end: '2026-04-16' },
        { d: 'Czwartek', t: '08:00-10:15', n: 'Pedagogika', g: 'S1', r: 'ChÅ‚apowskiego 3', start: '2026-03-12', end: '2026-04-23' },
        { d: 'Czwartek', t: '16:00-18:15', n: 'JÄ™zyk obcy', g: 'JW3', r: 'SPNJO', start: '2026-03-12', end: '2026-05-21' },
        { d: 'Czwartek', t: '10:00-12:15', n: 'JÄ™zyk migowy', g: '3', r: 'ChÅ‚apowskiego 3', start: '2026-02-26', end: '2026-05-14' },
        { d: 'Czwartek', t: '10:00-11:30', n: 'JÄ™zyk migowy', g: '3', r: 'ChÅ‚apowskiego 3', start: '2026-05-21', end: '2026-05-21' },
        { d: 'Czwartek', t: '12:45-15:00', n: 'JÄ™zyk migowy', g: '4', r: 'ChÅ‚apowskiego 3', start: '2026-02-26', end: '2026-05-14' },
        { d: 'Czwartek', t: '12:45-14:15', n: 'JÄ™zyk migowy', g: '4', r: 'ChÅ‚apowskiego 3', start: '2026-05-21', end: '2026-05-21' },
        { d: 'Czwartek', t: '13:00-15:15', n: 'Pedagogika', g: '3', r: 'ChÅ‚apowskiego 3', start: '2026-04-02', end: '2026-04-16' },
        { d: 'Czwartek', t: '13:00-13:45', n: 'Pedagogika', g: '3', r: 'ChÅ‚apowskiego 3', start: '2026-04-23', end: '2026-04-23' },
        { d: 'Czwartek', t: '10:30-12:45', n: 'Pedagogika', g: '4', r: 'ChÅ‚apowskiego 1', start: '2026-04-02', end: '2026-04-16' },
        { d: 'Czwartek', t: '10:30-11:15', n: 'Pedagogika', g: '4', r: 'ChÅ‚apowskiego 1', start: '2026-04-23', end: '2026-04-23' },
        { d: 'Czwartek', t: '17:45-20:45', n: 'Pierwsza pomoc', g: 'D', r: 'CSM', start: '2026-04-02', end: '2026-05-07' },
        { d: 'Czwartek', t: '11:00-14:45', n: 'Kreatywne myÅ›lenie', g: 'S2', r: 'WNZ 108', start: '2026-05-28', end: '2026-06-25' },
        { d: 'Czwartek', t: '19:15-20:45', n: 'Podstawy neurokognitywistyki (W)', g: 'W', r: 'online', start: '2026-02-26', end: '2026-02-26' },
        { d: 'Czwartek', t: '19:15-20:45', n: 'Podstawy neurokognitywistyki (W)', g: 'W', r: 'online', start: '2026-03-12', end: '2026-04-02' },
        { d: 'Czwartek', t: '17:30-19:00', n: 'Pierwsza pomoc (W)', g: 'W', r: 'online', start: '2026-02-26', end: '2026-03-26' },

        // ----- PIÄ„TEK -----
        { d: 'PiÄ…tek', t: '09:45-11:15', n: 'Podstawy biochemii', g: 'C', r: 'ZÅ»CzIM 102', start: '2026-03-13', end: '2026-04-24' },
        { d: 'PiÄ…tek', t: '08:00-11:45', n: 'Podstawy neurologii', g: 'a', r: 'KN', start: '2026-04-10', end: '2026-04-10' },
        { d: 'PiÄ…tek', t: '12:00-15:45', n: 'Podstawy neurologii', g: 'a', r: 'KN', start: '2026-04-10', end: '2026-04-10' },
        { d: 'PiÄ…tek', t: '08:00-11:45', n: 'Podstawy neurologii', g: 'b', r: 'KN', start: '2026-04-17', end: '2026-04-17' },
        { d: 'PiÄ…tek', t: '12:00-15:45', n: 'Podstawy neurologii', g: 'b', r: 'KN', start: '2026-04-17', end: '2026-04-17' },
        { d: 'PiÄ…tek', t: '08:00-11:45', n: 'Podstawy neurologii', g: 'c', r: 'KN', start: '2026-04-24', end: '2026-04-24' },
        { d: 'PiÄ…tek', t: '12:00-15:45', n: 'Podstawy neurologii', g: 'c', r: 'KN', start: '2026-04-24', end: '2026-04-24' },
        { d: 'PiÄ…tek', t: '08:00-11:45', n: 'Podstawy neurologii', g: 'e', r: 'KN', start: '2026-05-08', end: '2026-05-08' },
        { d: 'PiÄ…tek', t: '12:00-15:45', n: 'Podstawy neurologii', g: 'e', r: 'KN', start: '2026-05-08', end: '2026-05-08' },
        { d: 'PiÄ…tek', t: '09:45-12:45', n: 'Kreatywne myÅ›lenie', g: 'S1', r: 'MCD 2 209A', start: '2026-05-15', end: '2026-06-26' },
        { d: 'PiÄ…tek', t: '08:00-10:15', n: 'Pedagogika zabawy', g: '3', r: 'ChÅ‚apowskiego 2', start: '2026-05-15', end: '2026-06-26' },
        { d: 'PiÄ…tek', t: '12:15-14:30', n: 'Pedagogika zabawy', g: '4', r: 'ChÅ‚apowskiego 2', start: '2026-05-15', end: '2026-06-26' },
        { d: 'PiÄ…tek', t: '17:45-20:45', n: 'Pierwsza pomoc', g: 'E', r: 'CSM', start: '2026-03-27', end: '2026-05-08' },
        { d: 'PiÄ…tek', t: '14:30-17:30', n: 'Pierwsza pomoc', g: 'F', r: 'CSM', start: '2026-03-27', end: '2026-05-08' },
        { d: 'PiÄ…tek', t: '13:15-14:45', n: 'Podstawy biochemii', g: 'D', r: 'ZÅ»CzIM 102', start: '2026-03-13', end: '2026-04-24' },
        { d: 'PiÄ…tek', t: '15:00-16:30', n: 'Podstawy biochemii', g: 'E', r: 'ZÅ»CzIM 102', start: '2026-03-13', end: '2026-04-24' },
        { d: 'PiÄ…tek', t: '11:30-13:00', n: 'Podstawy biochemii', g: 'F', r: 'ZÅ»CzIM 102', start: '2026-03-13', end: '2026-04-24' },
        { d: 'PiÄ…tek', t: '08:00-11:45', n: 'Podstawy neurologii', g: 'h', r: 'KN', start: '2026-05-15', end: '2026-05-15' },
        { d: 'PiÄ…tek', t: '12:00-15:45', n: 'Podstawy neurologii', g: 'h', r: 'KN', start: '2026-05-15', end: '2026-05-15' },
        { d: 'PiÄ…tek', t: '10:30-12:00', n: 'Pedagogika zabawy', g: 'S2', r: 'ChÅ‚apowskiego 2', start: '2026-05-08', end: '2026-06-19' }
    ];

    // ================= LOGIKA APLIKACJI =================
    
    let currentStudent = null;
    const searchInput = document.getElementById('searchInput');
    const suggestions = document.getElementById('suggestions');
    const studentInfo = document.getElementById('studentInfo');
    const listView = document.getElementById('listView');
    const calendarView = document.getElementById('calendarView');
    const calendarContent = document.getElementById('calendarContent');
    const viewControls = document.getElementById('viewControls');

    function getSubjectClass(name) {
        const n = name.toLowerCase();
        if(n.includes('pedagogika')) return 's-pedagogika';
        if(n.includes('pomoc')) return 's-pomoc';
        if(n.includes('socjologia')) return 's-socjo';
        if(n.includes('neurolog')) return 's-neuro';
        if(n.includes('psychologia')) return 's-psych';
        if(n.includes('wychowanie')) return 's-wf';
        if(n.includes('jÄ™zyk') && !n.includes('migowy')) return 's-jezyk';
        if(n.includes('biochem')) return 's-bio';
        if(n.includes('kreatywne')) return 's-kreatywne';
        if(n.includes('migowy')) return 's-migowy';
        if(n.includes('kognitywistyka')) return 's-kognitywistyka';
        if(n.includes('emisja')) return 's-emisja';
        return '';
    }

    function parseDate(str) {
        const parts = str.split('-');
        return new Date(parts[0], parts[1]-1, parts[2]);
    }

    function isHoliday(date) {
        const key = `${date.getDate()}-${date.getMonth() + 1}`;
        return holidays[key] || null;
    }

    function checkGroup(student, classGroup) {
        if(classGroup === 'W') return true;
        const g = student.groups;
        return (classGroup === g.S || classGroup === g.JW || classGroup === g.cw || 
                classGroup === g.maly || classGroup === g.duzy);
    }

    // Wyszukiwarka
    searchInput.addEventListener('input', (e) => {
        const val = e.target.value.toLowerCase();
        suggestions.innerHTML = '';
        if(val.length < 2) { suggestions.classList.remove('active'); return; }

        const matches = students.filter(s => s.name.toLowerCase().includes(val));
        if(matches.length > 0) {
            suggestions.classList.add('active');
            matches.forEach(s => {
                const div = document.createElement('div');
                div.className = 'suggestion-item';
                div.innerText = s.name;
                div.onclick = () => selectStudent(s);
                suggestions.appendChild(div);
            });
        } else {
            suggestions.classList.remove('active');
        }
    });

    function selectStudent(student) {
        currentStudent = student;
        searchInput.value = student.name;
        suggestions.classList.remove('active');
        viewControls.style.display = 'flex';
        
        studentInfo.innerText = `${student.name} (Sem: ${student.groups.S}, JÄ™zyk: ${student.groups.JW}, Ä†w: ${student.groups.cw}, Lab: ${student.groups.maly}/${student.groups.duzy})`;
        
        renderList();
        renderCalendar();
    }

    function switchView(viewName) {
        document.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.schedule-container').forEach(c => c.classList.remove('active'));
        
        if(viewName === 'list') {
            listView.classList.add('active');
            document.querySelector("button[onclick=\"switchView('list')\"]").classList.add('active');
        } else {
            calendarView.classList.add('active');
            document.querySelector("button[onclick=\"switchView('calendar')\"]").classList.add('active');
        }
    }

    function renderList() {
        if(!currentStudent) return;
        listView.innerHTML = '';
        
        const studentClasses = schedule.filter(item => checkGroup(currentStudent, item.g));
        
        // Dodajemy daty konkretnych zajÄ™Ä‡ (rozbijamy zakresy na pojedyncze dni, z pominiÄ™ciem Å›wiÄ…t)
        let allEvents = [];

        studentClasses.forEach(item => {
            let curr = parseDate(item.start);
            let end = parseDate(item.end);
            
            while (curr <= end) {
                const dayMap = { 'PoniedziaÅ‚ek': 1, 'Wtorek': 2, 'Åšroda': 3, 'Czwartek': 4, 'PiÄ…tek': 5 };
                
                // SprawdÅº dzieÅ„ tygodnia I CZY NIE MA ÅšWIÄ˜TA
                if(curr.getDay() === dayMap[item.d] && !isHoliday(curr)) {
                    // WyjÄ…tki
                    const dateStr = `${curr.getDate()}.${curr.getMonth()+1}`;
                    if(item.n === 'Wychowanie fizyczne' && item.d === 'PoniedziaÅ‚ek' && dateStr === '18.5') {
                        // skip
                    } else if(item.n.includes('Socjologia') && dateStr === '13.5') {
                        // skip
                    } else {
                        allEvents.push({
                            date: new Date(curr),
                            ...item
                        });
                    }
                }
                curr.setDate(curr.getDate() + 1);
            }
        });

        allEvents.sort((a, b) => {
            if(a.date.getTime() !== b.date.getTime()) return a.date.getTime() - b.date.getTime();
            return a.t.localeCompare(b.t);
        });

        if(allEvents.length === 0) {
            listView.innerHTML = '<p style="text-align:center">Brak zajÄ™Ä‡.</p>';
            return;
        }

        let lastDateStr = '';
        const dayNames = ['Niedziela', 'PoniedziaÅ‚ek', 'Wtorek', 'Åšroda', 'Czwartek', 'PiÄ…tek', 'Sobota'];
        const monthNames = ['stycznia', 'lutego', 'marca', 'kwietnia', 'maja', 'czerwca', 'lipca'];

        allEvents.forEach(c => {
            const dateStr = `${dayNames[c.date.getDay()]}, ${c.date.getDate()} ${monthNames[c.date.getMonth()]}`;
            
            if(dateStr !== lastDateStr) {
                const header = document.createElement('h3');
                header.style.marginTop = '20px';
                header.style.borderBottom = '2px solid #eee';
                header.style.fontSize = '1.1em';
                header.innerText = dateStr;
                listView.appendChild(header);
                lastDateStr = dateStr;
            }

            const div = document.createElement('div');
            const colorClass = getSubjectClass(c.n);
            div.className = `class-item ${colorClass}`;
            div.innerHTML = `
                <div class="class-header">
                    <span>${c.t}</span>
                    <span>${c.n}</span>
                </div>
                <div class="class-details">
                    Sala: ${c.r} | Grupa: ${c.g}
                </div>
            `;
            listView.appendChild(div);
        });
    }

    function renderCalendar() {
        if(!currentStudent) return;
        calendarContent.innerHTML = '';

        const months = [1, 2, 3, 4, 5]; 
        const monthNames = ["StyczeÅ„", "Luty", "Marzec", "KwiecieÅ„", "Maj", "Czerwiec"];

        months.forEach(monthIdx => {
            const year = 2026;
            const firstDay = new Date(year, monthIdx, 1);
            const lastDay = new Date(year, monthIdx + 1, 0);
            
            const monthContainer = document.createElement('div');
            monthContainer.style.marginBottom = '30px';
            monthContainer.innerHTML = `<h3 style="text-align:center; margin-bottom:10px;">${monthNames[monthIdx]} ${year}</h3>`;
            
            const grid = document.createElement('div');
            grid.className = 'calendar-grid';

            ['Pn', 'Wt', 'Åšr', 'Cz', 'Pt', 'Sb', 'Nd'].forEach(d => {
                const dh = document.createElement('div');
                dh.className = 'calendar-header';
                dh.innerText = d;
                grid.appendChild(dh);
            });

            let startDay = firstDay.getDay() - 1; 
            if(startDay === -1) startDay = 6;
            for(let i=0; i<startDay; i++) {
                grid.appendChild(document.createElement('div'));
            }

            for(let d=1; d<=lastDay.getDate(); d++) {
                const currentDayDate = new Date(year, monthIdx, d);
                const dayDiv = document.createElement('div');
                dayDiv.className = 'calendar-day';
                
                const holidayName = isHoliday(currentDayDate);
                if(holidayName) {
                    dayDiv.classList.add('holiday');
                    dayDiv.innerHTML = `<div>${d}</div><span class="holiday-label">${holidayName}</span>`;
                } else {
                    dayDiv.innerHTML = `<div>${d}</div>`;
                    
                    const dayClasses = schedule.filter(c => {
                        if(!checkGroup(currentStudent, c.g)) return false;
                        
                        const sDate = parseDate(c.start);
                        const eDate = parseDate(c.end);
                        
                        if (currentDayDate >= sDate && currentDayDate <= eDate) {
                            const dayMap = { 'PoniedziaÅ‚ek': 1, 'Wtorek': 2, 'Åšroda': 3, 'Czwartek': 4, 'PiÄ…tek': 5 };
                            if(currentDayDate.getDay() === dayMap[c.d]) {
                                const dateStr = `${currentDayDate.getDate()}.${currentDayDate.getMonth()+1}`;
                                if(c.n === 'Wychowanie fizyczne' && c.d === 'PoniedziaÅ‚ek' && dateStr === '18.5') return false;
                                if(c.n.includes('Socjologia') && dateStr === '13.5') return false;
                                return true;
                            }
                        }
                        return false;
                    });

                    if(dayClasses.length > 0) {
                        const dots = document.createElement('div');
                        dots.className = 'dot-container';
                        dayClasses.forEach(c => {
                            const dot = document.createElement('div');
                            dot.className = `dot ${getSubjectClass(c.n)}`;
                            dot.title = `${c.t} ${c.n}`;
                            dots.appendChild(dot);
                        });
                        dayDiv.appendChild(dots);
                        
                        dayDiv.onclick = () => {
                            let info = `Plan na ${d}.${monthIdx+1}:\n`;
                            dayClasses.sort((a,b)=>a.t.localeCompare(b.t));
                            dayClasses.forEach(x => info += `${x.t} ${x.n} (${x.r})\n`);
                            alert(info);
                        };
                        dayDiv.style.cursor = 'pointer';
                    }
                }
                grid.appendChild(dayDiv);
            }

            monthContainer.appendChild(grid);
            calendarContent.appendChild(monthContainer);
        });
    }

</script>

</body>
</html>